# ğŸš€ Uniquenames.net éƒ¨ç½²æŒ‡å—

**é€‚ç”¨äº**: Windows å¼€å‘ + Linux æœåŠ¡å™¨éƒ¨ç½²

---

## ğŸ“‹ éƒ¨ç½²æµç¨‹æ¦‚è§ˆ

```
æœ¬åœ°å¼€å‘ï¼ˆWindowsï¼‰
  â†“ git push
GitHub/GitLab
  â†“ git pull
æœåŠ¡å™¨éƒ¨ç½²ï¼ˆLinuxï¼‰
```

---

## âš ï¸ **å…³é”®åŸåˆ™ï¼šæ°¸ä¸åŒæ­¥çš„æ–‡ä»¶**

### **ç»å¯¹ä¸è¦æäº¤åˆ° gitï¼š**
```
node_modules/          # æ¯ä¸ªå¹³å°è‡ªå·±å®‰è£…
.env                   # åŒ…å«å¯†é’¥ï¼Œç»å¯†ï¼
.env.local             # æœ¬åœ°ç¯å¢ƒå˜é‡
backend/db/*.db        # æ•°æ®åº“æ–‡ä»¶
dist/                  # æ„å»ºäº§ç‰©
```

### **å¯ä»¥æäº¤ï¼š**
```
.env.example           # é…ç½®æ¨¡æ¿
deploy.sh              # éƒ¨ç½²è„šæœ¬
vite.config.ts         # å‰ç«¯é…ç½®
package.json           # ä¾èµ–å£°æ˜
nginx.conf             # Nginx é…ç½®æ¨¡æ¿ï¼ˆä¸æ˜¯å®é™…é…ç½®ï¼‰
```

---

## ğŸ”§ æ–¹æ¡ˆå¯¹æ¯”

### **æ–¹æ¡ˆ1: ç¯å¢ƒå˜é‡ + é…ç½®æ¨¡æ¿ï¼ˆæ¨èä½ ç”¨è¿™ä¸ªï¼‰**

**ä¼˜ç‚¹**ï¼š
- âœ… ç®€å•æ˜“æ‡‚
- âœ… æ ‡å‡†åšæ³•
- âœ… é€‚åˆå°å›¢é˜Ÿ

**å®æ–½**ï¼š
1. æœ¬åœ°å’ŒæœåŠ¡å™¨å„æœ‰è‡ªå·±çš„ `.env`
2. git åªæäº¤ `.env.example`
3. æœåŠ¡å™¨é¦–æ¬¡éƒ¨ç½²æ—¶æ‰‹åŠ¨åˆ›å»º `.env`
4. ä»¥å git pull ä¸ä¼šè¦†ç›– `.env`ï¼ˆå·²åœ¨ gitignoreï¼‰

---

### **æ–¹æ¡ˆ2: éƒ¨ç½²è„šæœ¬ï¼ˆè‡ªåŠ¨åŒ–ï¼Œæ¨èï¼‰**

**ä¼˜ç‚¹**ï¼š
- âœ… ä¸€é”®éƒ¨ç½²
- âœ… è‡ªåŠ¨å¤‡ä»½é…ç½®
- âœ… å‡å°‘äººä¸ºé”™è¯¯

**æˆ‘å·²ç»ç»™ä½ åˆ›å»ºäº†**ï¼š
- `deploy.sh` - ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
- `deploy-dev.sh` - å¼€å‘ç¯å¢ƒéƒ¨ç½²

**ç”¨æ³•**ï¼š
```bash
# åœ¨æœåŠ¡å™¨ä¸Š
cd ~/projects/uniquenames
chmod +x deploy.sh deploy-dev.sh
./deploy.sh  # æˆ– ./deploy-dev.sh
```

---

### **æ–¹æ¡ˆ3: Git Hooksï¼ˆé˜²æŠ¤ï¼Œå¯é€‰ï¼‰**

**ä¼˜ç‚¹**ï¼š
- âœ… é˜²æ­¢è¯¯æäº¤æ•æ„Ÿæ–‡ä»¶
- âœ… è‡ªåŠ¨æ£€æŸ¥

**å®æ–½**ï¼š
```bash
# æœ¬åœ°ï¼ˆWindowsï¼‰
cd .git/hooks
cp ../.git-hooks-example/pre-commit ./pre-commit
chmod +x pre-commit
```

---

## ğŸ¯ **æˆ‘ç»™ä½ çš„æ¨èç»„åˆ**

### **ä½¿ç”¨ï¼šç¯å¢ƒå˜é‡æ¨¡æ¿ + éƒ¨ç½²è„šæœ¬**

**åŸå› **ï¼š
1. **ç®€å•** - ä¸éœ€è¦å¤æ‚çš„ CI/CD
2. **å®‰å…¨** - é…ç½®ä¸ä¼šæ³„éœ²
3. **é«˜æ•ˆ** - ä¸€é”®éƒ¨ç½²
4. **å¤Ÿç”¨** - å°å›¢é˜Ÿå®Œå…¨è¶³å¤Ÿ

---

## ğŸ“ **å®Œæ•´çš„å·¥ä½œæµç¨‹**

### **æœ¬åœ°å¼€å‘ï¼ˆWindowsï¼‰ï¼š**

```bash
# 1. ä¿®æ”¹ä»£ç 
# 2. æµ‹è¯•
npm run dev

# 3. æäº¤
git add .
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"
git push
```

### **æœåŠ¡å™¨éƒ¨ç½²ï¼ˆLinuxï¼‰ï¼š**

```bash
# æ–¹å¼1ï¼šæ‰‹åŠ¨ï¼ˆä¼ ç»Ÿï¼‰
cd ~/projects/uniquenames
git pull
cd backend && npm install && npm rebuild better-sqlite3
cd ../frontend && npm install && npm run build
pm2 restart uniquenames-api
sudo nginx -s reload

# æ–¹å¼2ï¼šä¸€é”®éƒ¨ç½²ï¼ˆæ¨èï¼‰
cd ~/projects/uniquenames
./deploy.sh
```

---

## ğŸ” **é…ç½®æ–‡ä»¶ç®¡ç†ç­–ç•¥**

### **æœåŠ¡å™¨ä¸Šéœ€è¦æ‰‹åŠ¨åˆ›å»ºä¸€æ¬¡çš„æ–‡ä»¶ï¼š**

```
/root/projects/uniquenames/.env               # åç«¯ç¯å¢ƒå˜é‡
/root/projects/uniquenames/frontend/.env.local  # å‰ç«¯ç¯å¢ƒå˜é‡
/etc/nginx/sites-available/uniquenames.net    # Nginx é…ç½®
```

**è¿™äº›æ–‡ä»¶ï¼š**
- âœ… ä¸åœ¨ git ä¸­
- âœ… é¦–æ¬¡éƒ¨ç½²æ—¶æ‰‹åŠ¨åˆ›å»ºï¼ˆå‚è€ƒæ¨¡æ¿ï¼‰
- âœ… git pull æ°¸è¿œä¸ä¼šè¦†ç›–

---

## ğŸ¯ **é’ˆå¯¹ä½ æåˆ°çš„é—®é¢˜ï¼š**

### **é—®é¢˜1: vite.config.ts è¢«è¦†ç›–**
**è§£å†³**ï¼šä¸åº”è¯¥è¢«è¦†ç›–ï¼vite.config.ts åº”è¯¥æäº¤åˆ° gitã€‚
- å¦‚æœæœ¬åœ°å’ŒæœåŠ¡å™¨éœ€è¦ä¸åŒé…ç½® â†’ ç”¨ç¯å¢ƒå˜é‡åŒºåˆ†ï¼š
  ```typescript
  export default defineConfig({
    server: {
      host: process.env.NODE_ENV === 'production' ? '0.0.0.0' : 'localhost',
    }
  })
  ```

### **é—®é¢˜2: Nginx é…ç½®è¢«è¦†ç›–**
**è§£å†³**ï¼šNginx é…ç½®**ä¸åº”è¯¥åœ¨ git ä¸­**ï¼
- git ä¸­æ”¾ `nginx.conf.example`ï¼ˆæ¨¡æ¿ï¼‰
- å®é™…çš„ `/etc/nginx/sites-available/uniquenames.net` æ‰‹åŠ¨ç®¡ç†

### **é—®é¢˜3: .env åŒæ­¥é—®é¢˜**
**è§£å†³**ï¼š`.env` å·²åœ¨ gitignoreï¼Œæ°¸è¿œä¸ä¼šåŒæ­¥ï¼
- å¦‚æœ git è¿˜è¦æ±‚æäº¤ â†’ è¯´æ˜ä¹‹å‰æäº¤è¿‡ï¼Œéœ€è¦æ¸…ç†å†å²ï¼š
  ```bash
  git rm --cached .env
  git commit -m "Remove .env from git"
  git push
  ```

---

## ğŸ¯ **æˆ‘çš„æœ€ç»ˆå»ºè®®ï¼ˆé’ˆå¯¹ä½ ï¼‰**

**ä½¿ç”¨è¿™ä¸ªç»„åˆï¼š**

1. âœ… **.gitignore**ï¼ˆå·²æ›´æ–°ï¼‰ - é˜²æ­¢æäº¤æ•æ„Ÿæ–‡ä»¶
2. âœ… **é…ç½®æ¨¡æ¿**ï¼ˆ.env.exampleï¼‰ - å¿«é€Ÿä¸Šæ‰‹
3. âœ… **éƒ¨ç½²è„šæœ¬**ï¼ˆdeploy.shï¼‰ - ä¸€é”®éƒ¨ç½²ï¼Œè‡ªåŠ¨å¤‡ä»½é…ç½®
4. âŒ **Git hooks**ï¼ˆæš‚ä¸ç”¨ï¼‰ - ä½ ä¸€ä¸ªäººå¼€å‘ï¼Œä¸éœ€è¦

**ä¸ºä»€ä¹ˆä¸ç”¨ Git hooksï¼Ÿ**
- ä½ æ˜¯å”¯ä¸€å¼€å‘è€…ï¼ŒçŸ¥é“ä¸è¦æäº¤ .env
- Hooks å¢åŠ å¤æ‚åº¦
- éƒ¨ç½²è„šæœ¬å·²ç»å¤Ÿç”¨

---

## ğŸš€ **ç«‹å³è¡ŒåŠ¨**

### **1. æœ¬åœ°ï¼ˆç°åœ¨ï¼‰ï¼š**
```bash
# æäº¤æ–°çš„ .gitignore å’Œéƒ¨ç½²è„šæœ¬
git add .gitignore deploy.sh deploy-dev.sh .env.example frontend/.env.example
git commit -m "feat: æ·»åŠ éƒ¨ç½²è„šæœ¬å’Œé…ç½®æ¨¡æ¿"
git push
```

### **2. æœåŠ¡å™¨ï¼ˆä¹‹åï¼‰ï¼š**
```bash
cd ~/projects/uniquenames
git pull
chmod +x deploy.sh deploy-dev.sh

# ä»¥ååªéœ€è¦ï¼š
./deploy.sh  # ä¸€é”®éƒ¨ç½²ï¼
```

---

**å…ˆè§£å†³ OpenRouter 401 é—®é¢˜ï¼ˆå……å€¼ï¼‰ï¼Œç„¶åç”¨éƒ¨ç½²è„šæœ¬ï¼** ğŸ’ª

**OpenRouter 401 æ˜¯å½“åŠ¡ä¹‹æ€¥ï¼å» https://openrouter.ai/account å……å€¼ï¼** ğŸ’³
